

Lb=[2:0.001:66];
n1=ceil((1-0.000005).^(-8*(Lb*1000+8+(Lb*1000+20)/(1500-20)*28)));
n11=ceil((1-0.000003).^(-8*(Lb*1000+8+(Lb*1000+20)/(1500-20)*28)));
n2=ceil((1-0.000005).^(-8*(Lb*1000+8+(Lb*1000+20)/(1500-20)*28)))+1;
n22=ceil((1-0.000003).^(-8*(Lb*1000+8+(Lb*1000+20)/(1500-20)*28)))+1;


time1 = (n1*20-10)*60+(n11*20-10)*120;
time2 = (n2*20-10)*60+(n22*20-10)*120;

%Delivery_Time =(n-1)*1200+600;
Goodput1 = Lb*1000./time1;
Goodput2 = Lb*1000./time2;

h1=plot(Lb,Goodput1,'-b');
%axis ([4:4:64 0:1:10]);

hold on;
h2=plot(Lb,Goodput2,'-k');
hold on;


%第一组实验数据
C1_16K=[2.42,2.96,2.42,2.96,2.96,3.80,2.96,2.96,3.80,2.96];
C1_24K=[3.64,4.44,3.64,3.64,4.44,3.64,3.64,3.64,3.08,3.08];
C1_32K=[3.14,2.54,3.14,2.54,3.14,3.14,3.14,3.14,3.14,3.14];
C1_40K=[3.17,3.17,3.17,3.17,3.92,3.17,3.17,3.17,3.17,3.17];
C1_48K=[2.76,2.76,2.76,2.76,3.81,2.76,2.76,2.76,2.76,2.76];
C1_56K=[2.83,3.22,2.83,2.83,2.83,2.83,2.83,2.83,2.83,2.83];


I11 =zeros(6,10);
I11(1,:)= C1_16K;
I11(2,:)= C1_24K;
I11(3,:)= C1_32K;
I11(4,:)= C1_40K;
I11(5,:)= C1_48K;
I11(6,:)= C1_56K;
J11=I11';
M11=mean(J11);
S11=std(J11);
S11=S11/10; 
bar11=2.131.*S11;
x1=[16 24 32 40 48 56];
% h1=errorbar(x1,M11,bar11,'ko-');
h11=errorbar(x1,M11,bar11,'or');
hold on;

%第二组实验数据

C1_16K=[1.57,1.78,1.78,1.78,1.78,1.78,1.78,1.78,1.78,1.78];
C1_24K=[2.35,1.74,2.35,2.35,2.35,2.35,2.35,2.35,2.35,2.35];
C1_32K=[2.32,2.13,2.32,2.32,2.32,2.32,2.32,2.32,2.32,2.32];
C1_40K=[2.02,2.47,2.47,2.47,2.47,2.47,2.47,2.47,2.47,2.47];
C1_48K=[2.16,2.29,2.29,2.29,2.29,2.29,2.29,2.29,2.29,2.29];
C1_56K=[2.07,2.39,2.39,2.39,2.39,2.39,2.39,2.39,2.39,2.39];
I11 =zeros(6,10);
I11(1,:)= C1_16K;
I11(2,:)= C1_24K;
I11(3,:)= C1_32K;
I11(4,:)= C1_40K;
I11(5,:)= C1_48K;
I11(6,:)= C1_56K;
J11=I11';
M11=mean(J11);
S11=std(J11);
S11=S11/10; 
bar11=2.131.*S11;
x1=[16 24 32 40 48 56];
h22=errorbar(x1,M11,bar11,'dr');
hold on;


set(gca, 'XLim', [10, 66]);
set(gca,'Xtick', [12 16 20 24 28 32 36 40 44 48 52 56 60 64] ); 
set(gca,'XTickLabel',{'12' '16' '20' '24' '28' '32' '36' '40' '44' '48' '52' '56' '60' '64'});
% set(gca,'YLim',[0 4],'YTick',[0 0.5 1 1.5 2 2.5 3 3.5  4],...
%   'YTickLabel',{'0' '0.5' '1' '1.5' '2' '2.5' '3' '3.5' '4' });

xlabel('Bundle尺寸 (Kbytes)','fontweight','normal','fontsize',13);
%ylabel('Number of transmission effort','fontweight','normal','fontsize',10);
ylabel('Goodput(bytes/sec)','fontweight','normal','fontsize',13);
set([h1],'LineWidth',2.3,'MarkerSize',6.0);
set([h2],'LineWidth',2.3,'MarkerSize',6.0);

set([h11],'LineWidth',2.3,'MarkerSize',6.0);
set([h22],'LineWidth',2.3,'MarkerSize',6.0);

legend([h1 h11 h2 h22 ],'第一组理论值','第一组实验值','第二组理论值','第二组实验值');
set(gca,'fontweight','bold','fontsize',13);
grid on;
